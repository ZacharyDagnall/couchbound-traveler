{"ast":null,"code":"var _jsxFileName = \"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\"; // import { FixedSizeList, VariableSizeList } from \"react-window\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Chat({\n  setChatShowing,\n  messages,\n  setMessages,\n  address,\n  englishOnly,\n  setEnglishOnly\n}) {\n  _s();\n\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [secretFlag, setSecretFlag] = useState(false);\n  const [showEnglishWord, setShowEnglishWord] = useState(false);\n\n  function handleSend(e) {\n    e.preventDefault();\n\n    if (newMessage) {\n      setMessages(messages => [...messages, {\n        who: \"user\",\n        text: newMessage\n      }]);\n      setNewMessage(\"\");\n      setTimeout(botReply, 800);\n    }\n  }\n\n  function botReply() {\n    let facts = [address.food, address.language, address.religion];\n    let initialGreetings = address.initial_greetings;\n    let dontUnderstand = address.dont_understand;\n    let greetings = address.greetings;\n    let ok = address.ok;\n    let correct = address.correct.yes;\n    let incorrect = address.correct.no;\n    let msg = newMessage.toLocaleLowerCase();\n\n    if (address.name && msg.includes(address.name.toLocaleLowerCase()) || address.state && msg.includes(address.state.toLocaleLowerCase()) || address.country && msg.includes(address.country.toLocaleLowerCase()) || address.continent && msg.includes(address.continent.toLocaleLowerCase())) {\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof correct === \"string\" ? correct : englishOnly ? correct.english_sentence : {\n          l: correct.in_language,\n          t: correct.translation_arr\n        }\n      }]);\n    } else if (msg.includes(\"are we in\")) {\n      // they can only land here if they typed \"are we in\" but *didn't* guess the name of the location\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof incorrect === \"string\" ? incorrect : englishOnly ? incorrect.english_sentence : {\n          l: incorrect.in_language,\n          t: incorrect.translation_arr\n        }\n      }]);\n    } else if (includesFood(msg)) {\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof address.food === \"string\" ? address.food : englishOnly ? address.food.english_sentence : {\n          l: address.food.in_language,\n          t: address.food.translation_arr\n        }\n      }]);\n    } else if (includesLanguage(msg)) {\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof address.language === \"string\" ? address.language : englishOnly ? address.language.english_sentence : {\n          l: address.language.in_language,\n          t: address.language.translation_arr\n        }\n      }]);\n    } else if (includesReligion(msg)) {\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof address.religion === \"string\" ? address.religion : englishOnly ? address.religion.english_sentence : {\n          l: address.religion.in_language,\n          t: address.religion.translation_arr\n        }\n      }]);\n    } else if (msg.includes(\"information\") || msg.includes(\"facts\") || msg.includes(\"tell me\") || msg.includes(\"this place\")) {\n      let fact = facts[Math.floor(Math.random() * facts.length)];\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof fact === \"string\" ? fact : englishOnly ? fact.english_sentence : {\n          l: fact.in_language,\n          t: fact.translation_arr\n        }\n      }]);\n    } else if (messages.length <= 1) {\n      let greeting = initialGreetings[Math.floor(Math.random() * initialGreetings.length)];\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof greeting === \"string\" ? greeting : englishOnly ? greeting.english_sentence : {\n          l: greeting.in_language,\n          t: greeting.translation_arr\n        }\n      }]);\n    } else if (msg.includes(\"okay\") || msg.includes(\"ok\") || msg.includes(\"alright\") || msg === \"kay\" || msg === \"k\" || msg === \"no\" || msg.includes(\"fine\") || msg.includes(\"very well\")) {\n      let okay = ok[Math.floor(Math.random() * ok.length)];\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof okay === \"string\" ? okay : englishOnly ? okay.english_sentence : {\n          l: okay.in_language,\n          t: okay.translation_arr\n        }\n      }]);\n    } else if (msg.includes(\"hey\") || // msg.includes(\"yo\") ||    //this doesn't work because it catches too many words like you and yogurt\n    msg.includes(\"whatsup\") || msg.includes(\"whatsgood\") || msg.includes(\"what's up\") || msg.includes(\"what's good\") || msg.includes(\"hello\") || msg.includes(\"howdy\") || msg.includes(\"hola\") || msg === \"hi\" || msg.includes(\"good morning\") || msg.includes(\"good day\") || msg.includes(\"how are you\") || msg.includes(\"what's the sitch\")) {\n      let greeting = greetings[Math.floor(Math.random() * greetings.length)];\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof greeting === \"string\" ? greeting : englishOnly ? greeting.english_sentence : {\n          l: greeting.in_language,\n          t: greeting.translation_arr\n        }\n      }]);\n    } else {\n      let du = // *d*on't *u*nderstand\n      dontUnderstand[Math.floor(Math.random() * dontUnderstand.length)];\n      setMessages(messages => [...messages, {\n        who: \"bot\",\n        text: typeof du === \"string\" ? du : englishOnly ? du.english_sentence : {\n          l: du.in_language,\n          t: du.translation_arr\n        }\n      }]);\n    }\n  }\n\n  function includesFood(msg) {\n    let english = [\"food\", \"dinner\", \"lunch\", \"breakfast\", \"hungry\", \"snack\", \"eat\", \"grub\", \"meal\", \"bite\", \"hunger\"];\n    let spanish = [\"comida\", \"cena\", \"almuerzo\", \"desayuno\", \"hambriento\", \"bocadillo\", \"comer\", \"comida\", \"comida\", \"morder\", \"hambre\"];\n    let french = [\"aliments\", \"dîner\", \"déjeuner\", \"petit-déjeuner\", \"dejeuner\", \"diner\", \"manger\", \"petit-dejeuner\", \"repas\", \"mordre\", \"faim\"];\n    let german = [\"lebensmittel\", \"abendessen\", \"mittagessen\", \"frühstück\", \"hungrig\", \"snack\", \"essen\", \"fruhstuck\", \"mahlzeit\", \"beißen\", \"hunger\"];\n    let portuguese = [\"cafe de manha\", \"jantar\", \"almoço\", \"café da manhã\", \"refeicao\", \"lanche\", \"comer\", \"almoco\", \"refeição\", \"comida\", \"fome\"];\n    let italian = [\"cibo\", \"cena\", \"pranzo\", \"prima colazione\", \"Affamato\", \"merenda\", \"mangiare\", \"mangia\", \"pasto\", \"mordere\", \"fame\"];\n\n    if (address.language_name === \"spanish\") {\n      return checkTwoArrForString(english, spanish, msg);\n    } else if (address.language_name === \"german\") {\n      return checkTwoArrForString(english, german, msg);\n    } else if (address.language_name === \"italian\") {\n      return checkTwoArrForString(english, italian, msg);\n    } else if (address.language_name === \"french\") {\n      return checkTwoArrForString(english, french, msg);\n    } else if (address.language_name === \"portuguese\") {\n      return checkTwoArrForString(english, portuguese, msg);\n    } else {\n      return checkTwoArrForString(english, english, msg);\n    }\n  }\n\n  function includesLanguage(msg) {\n    let english = [\"language\", \"tongue\", \"speak\", \"english\", \"idioma\"];\n    let spanish = [\"idioma\", \"lengua\", \"habla\", \"inglés\", \"idioma\"];\n    let french = [\"langue\", \"langue\", \"parle\", \"anglais\", \"idioma\"];\n    let german = [\"sprache\", \"zunge\", \"sprech\", \"englisch\", \"idiom\"];\n    let portuguese = [\"idioma\", \"língua\", \"falar\", \"inglês\", \"idioma\"];\n    let italian = [\"lingua\", \"lingua\", \"parla\", \"inglese\", \"idioma\"];\n\n    if (address.language_name === \"spanish\") {\n      return checkTwoArrForString(english, spanish, msg);\n    } else if (address.language_name === \"german\") {\n      return checkTwoArrForString(english, german, msg);\n    } else if (address.language_name === \"italian\") {\n      return checkTwoArrForString(english, italian, msg);\n    } else if (address.language_name === \"french\") {\n      return checkTwoArrForString(english, french, msg);\n    } else if (address.language_name === \"portuguese\") {\n      return checkTwoArrForString(english, portuguese, msg);\n    } else {\n      return checkTwoArrForString(english, english, msg);\n    }\n  }\n\n  function includesReligion(msg) {\n    let english = [\"religion\", \"religious\", \"holy\", \"godly\", \"pray\", \"god\", \"worship\", \"temple\", \"synagogue\", \"church\"];\n    let spanish = [\"religión\", \"religioso\", \"santo\", \"piadoso\", \"rezar\", \"Dios\", \"Adoración\", \"templo\", \"sinagoga\", \"Iglesia\"];\n    let french = [\"religion\", \"religieux\", \"Saint\", \"pieux\", \"prier\", \"dieu\", \"culte\", \"temple\", \"synagogue\", \"église\"];\n    let german = [\"religion\", \"religiös\", \"heilig\", \"göttlich\", \"beten\", \"gott\", \"anbetung\", \"tempel\", \"synagoge\", \"kirche\"];\n    let portuguese = [\"religião\", \"religioso\", \"sagrado\", \"piedoso\", \"rezar\", \"deus\", \"adoração\", \"têmpora\", \"sinagoga\", \"Igreja\"];\n    let italian = [\"religione\", \"religioso\", \"santo\", \"pio\", \"pregare\", \"Dio\", \"culto\", \"tempio\", \"sinagoga\", \"Chiesa\"];\n\n    if (address.language_name === \"spanish\") {\n      return checkTwoArrForString(english, spanish, msg);\n    } else if (address.language_name === \"german\") {\n      return checkTwoArrForString(english, german, msg);\n    } else if (address.language_name === \"italian\") {\n      return checkTwoArrForString(english, italian, msg);\n    } else if (address.language_name === \"french\") {\n      return checkTwoArrForString(english, french, msg);\n    } else if (address.language_name === \"portuguese\") {\n      return checkTwoArrForString(english, portuguese, msg);\n    } else {\n      return checkTwoArrForString(english, english, msg);\n    }\n  }\n\n  function checkTwoArrForString(arr1, arr2, str) {\n    // two arr expected to have same length\n    for (let i = 0; i < arr1.length; i++) {\n      if (str.includes(arr1[i]) || str.includes(arr2[i])) {\n        return true;\n      } else {}\n    }\n\n    return false;\n  }\n\n  const messageEl = useRef(null);\n  useEffect(() => {\n    if (messageEl) {\n      messageEl.current.addEventListener(\"DOMNodeInserted\", event => {\n        const {\n          currentTarget: target\n        } = event;\n        target.scroll({\n          top: target.scrollHeight,\n          behavior: \"smooth\"\n        });\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"head\",\n      children: [\"Chat\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close-mode-box\",\n        onClick: e => setChatShowing(false),\n        children: \"\\u2015\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      ref: messageEl,\n      children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"msg\",\n        style: m.who === \"bot\" ? {\n          backgroundColor: \"lightblue\"\n        } : {\n          backgroundColor: \"white\",\n          textAlign: \"right\"\n        },\n        children: m.who === \"bot\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              cursor: \"pointer\"\n            },\n            onClick: () => setSecretFlag(!secretFlag),\n            children: secretFlag ? address.flag_emoji : \"🙂\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: typeof m.text === \"string\" ? m.text : m.text.l.map((word, i) => /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: m.text.t[i] ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip\",\n                children: [word, /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"tooltiptext\",\n                  children: m.text.t[i]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 29\n              }, this) : null\n            }, void 0, false))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 17\n          }, this), \" \"]\n        }, void 0, true) : m.text + \"  🧳\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setEnglishOnly(!englishOnly),\n        children: englishOnly ? address.globe_emoji : \"🇬🇧\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSend,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: messages.length ? \"reply...\" : \"Start conversation...\",\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"send-button\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 473,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Chat, \"zLbR4GnDFKr4oyTZZwyVjxuqsX8=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Chat.js"],"names":["React","useState","useRef","useEffect","Chat","setChatShowing","messages","setMessages","address","englishOnly","setEnglishOnly","newMessage","setNewMessage","secretFlag","setSecretFlag","showEnglishWord","setShowEnglishWord","handleSend","e","preventDefault","who","text","setTimeout","botReply","facts","food","language","religion","initialGreetings","initial_greetings","dontUnderstand","dont_understand","greetings","ok","correct","yes","incorrect","no","msg","toLocaleLowerCase","name","includes","state","country","continent","english_sentence","l","in_language","t","translation_arr","includesFood","includesLanguage","includesReligion","fact","Math","floor","random","length","greeting","okay","du","english","spanish","french","german","portuguese","italian","language_name","checkTwoArrForString","arr1","arr2","str","i","messageEl","current","addEventListener","event","currentTarget","target","scroll","top","scrollHeight","behavior","map","m","backgroundColor","textAlign","cursor","flag_emoji","word","globe_emoji","value"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\n// import { FixedSizeList, VariableSizeList } from \"react-window\";\n\nfunction Chat({\n  setChatShowing,\n  messages,\n  setMessages,\n  address,\n  englishOnly,\n  setEnglishOnly,\n}) {\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [secretFlag, setSecretFlag] = useState(false);\n  const [showEnglishWord, setShowEnglishWord] = useState(false);\n\n  function handleSend(e) {\n    e.preventDefault();\n    if (newMessage) {\n      setMessages((messages) => [\n        ...messages,\n        { who: \"user\", text: newMessage },\n      ]);\n      setNewMessage(\"\");\n      setTimeout(botReply, 800);\n    }\n  }\n\n  function botReply() {\n    let facts = [address.food, address.language, address.religion];\n    let initialGreetings = address.initial_greetings;\n    let dontUnderstand = address.dont_understand;\n    let greetings = address.greetings;\n    let ok = address.ok;\n    let correct = address.correct.yes;\n    let incorrect = address.correct.no;\n\n    let msg = newMessage.toLocaleLowerCase();\n\n    if (\n      (address.name && msg.includes(address.name.toLocaleLowerCase())) ||\n      (address.state && msg.includes(address.state.toLocaleLowerCase())) ||\n      (address.country && msg.includes(address.country.toLocaleLowerCase())) ||\n      (address.continent && msg.includes(address.continent.toLocaleLowerCase()))\n    ) {\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof correct === \"string\"\n              ? correct\n              : englishOnly\n              ? correct.english_sentence\n              : {\n                  l: correct.in_language,\n                  t: correct.translation_arr,\n                },\n        },\n      ]);\n    } else if (msg.includes(\"are we in\")) {\n      // they can only land here if they typed \"are we in\" but *didn't* guess the name of the location\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof incorrect === \"string\"\n              ? incorrect\n              : englishOnly\n              ? incorrect.english_sentence\n              : {\n                  l: incorrect.in_language,\n                  t: incorrect.translation_arr,\n                },\n        },\n      ]);\n    } else if (includesFood(msg)) {\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof address.food === \"string\"\n              ? address.food\n              : englishOnly\n              ? address.food.english_sentence\n              : {\n                  l: address.food.in_language,\n                  t: address.food.translation_arr,\n                },\n        },\n      ]);\n    } else if (includesLanguage(msg)) {\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof address.language === \"string\"\n              ? address.language\n              : englishOnly\n              ? address.language.english_sentence\n              : {\n                  l: address.language.in_language,\n                  t: address.language.translation_arr,\n                },\n        },\n      ]);\n    } else if (includesReligion(msg)) {\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof address.religion === \"string\"\n              ? address.religion\n              : englishOnly\n              ? address.religion.english_sentence\n              : {\n                  l: address.religion.in_language,\n                  t: address.religion.translation_arr,\n                },\n        },\n      ]);\n    } else if (\n      msg.includes(\"information\") ||\n      msg.includes(\"facts\") ||\n      msg.includes(\"tell me\") ||\n      msg.includes(\"this place\")\n    ) {\n      let fact = facts[Math.floor(Math.random() * facts.length)];\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof fact === \"string\"\n              ? fact\n              : englishOnly\n              ? fact.english_sentence\n              : {\n                  l: fact.in_language,\n                  t: fact.translation_arr,\n                },\n        },\n      ]);\n    } else if (messages.length <= 1) {\n      let greeting =\n        initialGreetings[Math.floor(Math.random() * initialGreetings.length)];\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof greeting === \"string\"\n              ? greeting\n              : englishOnly\n              ? greeting.english_sentence\n              : {\n                  l: greeting.in_language,\n                  t: greeting.translation_arr,\n                },\n        },\n      ]);\n    } else if (\n      msg.includes(\"okay\") ||\n      msg.includes(\"ok\") ||\n      msg.includes(\"alright\") ||\n      msg === \"kay\" ||\n      msg === \"k\" ||\n      msg === \"no\" ||\n      msg.includes(\"fine\") ||\n      msg.includes(\"very well\")\n    ) {\n      let okay = ok[Math.floor(Math.random() * ok.length)];\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof okay === \"string\"\n              ? okay\n              : englishOnly\n              ? okay.english_sentence\n              : {\n                  l: okay.in_language,\n                  t: okay.translation_arr,\n                },\n        },\n      ]);\n    } else if (\n      msg.includes(\"hey\") ||\n      // msg.includes(\"yo\") ||    //this doesn't work because it catches too many words like you and yogurt\n      msg.includes(\"whatsup\") ||\n      msg.includes(\"whatsgood\") ||\n      msg.includes(\"what's up\") ||\n      msg.includes(\"what's good\") ||\n      msg.includes(\"hello\") ||\n      msg.includes(\"howdy\") ||\n      msg.includes(\"hola\") ||\n      msg === \"hi\" ||\n      msg.includes(\"good morning\") ||\n      msg.includes(\"good day\") ||\n      msg.includes(\"how are you\") ||\n      msg.includes(\"what's the sitch\")\n    ) {\n      let greeting = greetings[Math.floor(Math.random() * greetings.length)];\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof greeting === \"string\"\n              ? greeting\n              : englishOnly\n              ? greeting.english_sentence\n              : {\n                  l: greeting.in_language,\n                  t: greeting.translation_arr,\n                },\n        },\n      ]);\n    } else {\n      let du = // *d*on't *u*nderstand\n        dontUnderstand[Math.floor(Math.random() * dontUnderstand.length)];\n      setMessages((messages) => [\n        ...messages,\n        {\n          who: \"bot\",\n          text:\n            typeof du === \"string\"\n              ? du\n              : englishOnly\n              ? du.english_sentence\n              : {\n                  l: du.in_language,\n                  t: du.translation_arr,\n                },\n        },\n      ]);\n    }\n  }\n\n  function includesFood(msg) {\n    let english = [\n      \"food\",\n      \"dinner\",\n      \"lunch\",\n      \"breakfast\",\n      \"hungry\",\n      \"snack\",\n      \"eat\",\n      \"grub\",\n      \"meal\",\n      \"bite\",\n      \"hunger\",\n    ];\n    let spanish = [\n      \"comida\",\n      \"cena\",\n      \"almuerzo\",\n      \"desayuno\",\n      \"hambriento\",\n      \"bocadillo\",\n      \"comer\",\n      \"comida\",\n      \"comida\",\n      \"morder\",\n      \"hambre\",\n    ];\n    let french = [\n      \"aliments\",\n      \"dîner\",\n      \"déjeuner\",\n      \"petit-déjeuner\",\n      \"dejeuner\",\n      \"diner\",\n      \"manger\",\n      \"petit-dejeuner\",\n      \"repas\",\n      \"mordre\",\n      \"faim\",\n    ];\n    let german = [\n      \"lebensmittel\",\n      \"abendessen\",\n      \"mittagessen\",\n      \"frühstück\",\n      \"hungrig\",\n      \"snack\",\n      \"essen\",\n      \"fruhstuck\",\n      \"mahlzeit\",\n      \"beißen\",\n      \"hunger\",\n    ];\n    let portuguese = [\n      \"cafe de manha\",\n      \"jantar\",\n      \"almoço\",\n      \"café da manhã\",\n      \"refeicao\",\n      \"lanche\",\n      \"comer\",\n      \"almoco\",\n      \"refeição\",\n      \"comida\",\n      \"fome\",\n    ];\n    let italian = [\n      \"cibo\",\n      \"cena\",\n      \"pranzo\",\n      \"prima colazione\",\n      \"Affamato\",\n      \"merenda\",\n      \"mangiare\",\n      \"mangia\",\n      \"pasto\",\n      \"mordere\",\n      \"fame\",\n    ];\n\n    if (address.language_name === \"spanish\") {\n      return checkTwoArrForString(english, spanish, msg);\n    } else if (address.language_name === \"german\") {\n      return checkTwoArrForString(english, german, msg);\n    } else if (address.language_name === \"italian\") {\n      return checkTwoArrForString(english, italian, msg);\n    } else if (address.language_name === \"french\") {\n      return checkTwoArrForString(english, french, msg);\n    } else if (address.language_name === \"portuguese\") {\n      return checkTwoArrForString(english, portuguese, msg);\n    } else {\n      return checkTwoArrForString(english, english, msg);\n    }\n  }\n\n  function includesLanguage(msg) {\n    let english = [\"language\", \"tongue\", \"speak\", \"english\", \"idioma\"];\n    let spanish = [\"idioma\", \"lengua\", \"habla\", \"inglés\", \"idioma\"];\n    let french = [\"langue\", \"langue\", \"parle\", \"anglais\", \"idioma\"];\n    let german = [\"sprache\", \"zunge\", \"sprech\", \"englisch\", \"idiom\"];\n    let portuguese = [\"idioma\", \"língua\", \"falar\", \"inglês\", \"idioma\"];\n    let italian = [\"lingua\", \"lingua\", \"parla\", \"inglese\", \"idioma\"];\n\n    if (address.language_name === \"spanish\") {\n      return checkTwoArrForString(english, spanish, msg);\n    } else if (address.language_name === \"german\") {\n      return checkTwoArrForString(english, german, msg);\n    } else if (address.language_name === \"italian\") {\n      return checkTwoArrForString(english, italian, msg);\n    } else if (address.language_name === \"french\") {\n      return checkTwoArrForString(english, french, msg);\n    } else if (address.language_name === \"portuguese\") {\n      return checkTwoArrForString(english, portuguese, msg);\n    } else {\n      return checkTwoArrForString(english, english, msg);\n    }\n  }\n\n  function includesReligion(msg) {\n    let english = [\n      \"religion\",\n      \"religious\",\n      \"holy\",\n      \"godly\",\n      \"pray\",\n      \"god\",\n      \"worship\",\n      \"temple\",\n      \"synagogue\",\n      \"church\",\n    ];\n    let spanish = [\n      \"religión\",\n      \"religioso\",\n      \"santo\",\n      \"piadoso\",\n      \"rezar\",\n      \"Dios\",\n      \"Adoración\",\n      \"templo\",\n      \"sinagoga\",\n      \"Iglesia\",\n    ];\n    let french = [\n      \"religion\",\n      \"religieux\",\n      \"Saint\",\n      \"pieux\",\n      \"prier\",\n      \"dieu\",\n      \"culte\",\n      \"temple\",\n      \"synagogue\",\n      \"église\",\n    ];\n    let german = [\n      \"religion\",\n      \"religiös\",\n      \"heilig\",\n      \"göttlich\",\n      \"beten\",\n      \"gott\",\n      \"anbetung\",\n      \"tempel\",\n      \"synagoge\",\n      \"kirche\",\n    ];\n    let portuguese = [\n      \"religião\",\n      \"religioso\",\n      \"sagrado\",\n      \"piedoso\",\n      \"rezar\",\n      \"deus\",\n      \"adoração\",\n      \"têmpora\",\n      \"sinagoga\",\n      \"Igreja\",\n    ];\n    let italian = [\n      \"religione\",\n      \"religioso\",\n      \"santo\",\n      \"pio\",\n      \"pregare\",\n      \"Dio\",\n      \"culto\",\n      \"tempio\",\n      \"sinagoga\",\n      \"Chiesa\",\n    ];\n\n    if (address.language_name === \"spanish\") {\n      return checkTwoArrForString(english, spanish, msg);\n    } else if (address.language_name === \"german\") {\n      return checkTwoArrForString(english, german, msg);\n    } else if (address.language_name === \"italian\") {\n      return checkTwoArrForString(english, italian, msg);\n    } else if (address.language_name === \"french\") {\n      return checkTwoArrForString(english, french, msg);\n    } else if (address.language_name === \"portuguese\") {\n      return checkTwoArrForString(english, portuguese, msg);\n    } else {\n      return checkTwoArrForString(english, english, msg);\n    }\n  }\n\n  function checkTwoArrForString(arr1, arr2, str) {\n    // two arr expected to have same length\n    for (let i = 0; i < arr1.length; i++) {\n      if (str.includes(arr1[i]) || str.includes(arr2[i])) {\n        return true;\n      } else {\n      }\n    }\n    return false;\n  }\n\n  const messageEl = useRef(null);\n  useEffect(() => {\n    if (messageEl) {\n      messageEl.current.addEventListener(\"DOMNodeInserted\", (event) => {\n        const { currentTarget: target } = event;\n        target.scroll({ top: target.scrollHeight, behavior: \"smooth\" });\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"chat\">\n      <div className=\"head\">\n        Chat\n        <span className=\"close-mode-box\" onClick={(e) => setChatShowing(false)}>\n          ―\n        </span>\n      </div>\n      <div className=\"messages\" ref={messageEl}>\n        {messages.map((m, i) => (\n          <div\n            className=\"msg\"\n            key={i}\n            style={\n              m.who === \"bot\"\n                ? { backgroundColor: \"lightblue\" }\n                : { backgroundColor: \"white\", textAlign: \"right\" }\n            }\n          >\n            {m.who === \"bot\" ? (\n              <>\n                <span\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => setSecretFlag(!secretFlag)}\n                >\n                  {secretFlag ? address.flag_emoji : \"🙂\"}\n                </span>{\" \"}\n                <span>\n                  {typeof m.text === \"string\"\n                    ? m.text\n                    : m.text.l.map((word, i) => (\n                        <>\n                          {m.text.t[i] ? (\n                            <span className=\"tooltip\">\n                              {word}\n                              <span class=\"tooltiptext\">{m.text.t[i]}</span>\n                            </span>\n                          ) : null}\n                        </>\n                      ))}\n                </span>{\" \"}\n              </>\n            ) : (\n              m.text + \"  🧳\"\n            )}\n          </div>\n        ))}\n      </div>\n      <div className=\"footer\">\n        <span onClick={() => setEnglishOnly(!englishOnly)}>\n          {englishOnly ? address.globe_emoji : \"🇬🇧\"}\n        </span>\n        <form onSubmit={handleSend}>\n          <span>\n            <input\n              type=\"text\"\n              placeholder={\n                messages.length ? \"reply...\" : \"Start conversation...\"\n              }\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n            ></input>\n            <button id=\"send-button\">Send</button>\n          </span>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}