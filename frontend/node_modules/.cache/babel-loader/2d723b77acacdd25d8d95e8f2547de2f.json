{"ast":null,"code":"var _jsxFileName = \"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Travelling.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Chat from \"./Chat\";\nimport GuessForm from \"./GuessForm\";\nimport Map from \"./Map\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Travelling({\n  travelMode,\n  api,\n  user\n}) {\n  _s();\n\n  const [modalShowing, setModalShowing] = useState(false); // 085Gpl_xNxW1Lw2eeEG28w   fully works on my site (Berlin)\n\n  const [imgKey, setImgKey] = useState(\"KGHbNmfZQ8z9BcWb1a_3lg\"); //defaults to Macao in case any problem with fetch\n\n  const [triggerA, setTriggerA] = useState(1); // const [triggerB, setTriggerB] = useState(false);\n\n  const [chatShowing, setChatShowing] = useState(false);\n  const [address, setAddress] = useState({\n    name: \"Macao\",\n    state: \"Macao\",\n    country: \"People's Republic of China\",\n    continent: \"Asia\",\n    image_key: \"KGHbNmfZQ8z9BcWb1a_3lg\",\n    flag_url: \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Flag_of_Macau.svg/1200px-Flag_of_Macau.svg.png\",\n    flag_emoji: \"🇲🇴\",\n    food: \"Oh, I love a good Portguese Egg Tart! 吃飯囉！\",\n    language: \"Though some people here speak Portuguese, my family and I speak in Chinese!\",\n    religion: \"Many people here are Buddhists, and there are a few Catholics, but I don't practice any religion.\"\n  });\n  useEffect(() => {\n    fetch(`${api}/city_info/${user.id}`).then(r => r.json()).then(city => {\n      setAddress(city);\n      setImgKey(city.image_key);\n    });\n  }, []);\n  const [messages, setMessages] = useState([]);\n  const history = useHistory();\n  console.log(travelMode);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"content\",\n        children: [travelMode, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: travelMode === \"Tourism\" ? \"Roam around freely!\" : travelMode === \"Find Yourself\" ? \"Guess your location!\" : \"Find your way to a GIVEN-PLACE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content content-button\",\n        onClick: () => {\n          setTriggerA(triggerA + 1); // setTriggerB(!triggerB);\n        },\n        style: {\n          cursor: \"pointer\"\n        },\n        children: [\" \", \"\\u21BB\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content content-button\",\n        onClick: () => history.push(\"/\"),\n        children: \"Warp Back to Airport\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), travelMode === \"Find Yourself\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content content-button\",\n        onClick: () => setModalShowing(true),\n        children: \"Make a guess!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content content-button\",\n        onClick: () => setChatShowing(true),\n        children: \"Chat with a local\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), chatShowing ? /*#__PURE__*/_jsxDEV(Chat, {\n        setChatShowing: setChatShowing,\n        address: address,\n        messages: messages,\n        setMessages: setMessages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background\",\n      children: triggerA || triggerB ? /*#__PURE__*/_jsxDEV(Map, {\n        imgKey: imgKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), travelMode === \"Find Yourself\" ? /*#__PURE__*/_jsxDEV(GuessForm, {\n      address: address,\n      modalShowing: modalShowing,\n      setModalShowing: setModalShowing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Travelling, \"KuVVpM0e+16sM5cDnbIOFueU0tk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Travelling;\nexport default Travelling;\n\nvar _c;\n\n$RefreshReg$(_c, \"Travelling\");","map":{"version":3,"sources":["/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Travelling.js"],"names":["React","useState","useEffect","useHistory","Chat","GuessForm","Map","Travelling","travelMode","api","user","modalShowing","setModalShowing","imgKey","setImgKey","triggerA","setTriggerA","chatShowing","setChatShowing","address","setAddress","name","state","country","continent","image_key","flag_url","flag_emoji","food","language","religion","fetch","id","then","r","json","city","messages","setMessages","history","console","log","cursor","push","triggerB"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Chat from \"./Chat\";\nimport GuessForm from \"./GuessForm\";\nimport Map from \"./Map\";\n\nfunction Travelling({ travelMode, api, user }) {\n  const [modalShowing, setModalShowing] = useState(false);\n\n  // 085Gpl_xNxW1Lw2eeEG28w   fully works on my site (Berlin)\n  const [imgKey, setImgKey] = useState(\"KGHbNmfZQ8z9BcWb1a_3lg\"); //defaults to Macao in case any problem with fetch\n  const [triggerA, setTriggerA] = useState(1);\n  // const [triggerB, setTriggerB] = useState(false);\n\n  const [chatShowing, setChatShowing] = useState(false);\n  const [address, setAddress] = useState({\n    name: \"Macao\",\n    state: \"Macao\",\n    country: \"People's Republic of China\",\n    continent: \"Asia\",\n    image_key: \"KGHbNmfZQ8z9BcWb1a_3lg\",\n    flag_url:\n      \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Flag_of_Macau.svg/1200px-Flag_of_Macau.svg.png\",\n    flag_emoji: \"🇲🇴\",\n    food: \"Oh, I love a good Portguese Egg Tart! 吃飯囉！\",\n    language:\n      \"Though some people here speak Portuguese, my family and I speak in Chinese!\",\n    religion:\n      \"Many people here are Buddhists, and there are a few Catholics, but I don't practice any religion.\",\n  });\n\n  useEffect(() => {\n    fetch(`${api}/city_info/${user.id}`)\n      .then((r) => r.json())\n      .then((city) => {\n        setAddress(city);\n        setImgKey(city.image_key);\n      });\n  }, []);\n\n  const [messages, setMessages] = useState([]);\n  const history = useHistory();\n  console.log(travelMode);\n\n  return (\n    <div id=\"wrapper\">\n      <div>\n        {/* the line below gives an issue when you refresh the page, because you got\n        here without props, because state reset... */}\n        <h3 className=\"content\">{travelMode}!</h3>\n        <div className=\"content\">\n          {travelMode === \"Tourism\"\n            ? \"Roam around freely!\"\n            : travelMode === \"Find Yourself\"\n            ? \"Guess your location!\"\n            : \"Find your way to a GIVEN-PLACE\"}\n        </div>\n        <br></br>\n        <div\n          className=\"content content-button\"\n          onClick={() => {\n            setTriggerA(triggerA + 1);\n            // setTriggerB(!triggerB);\n          }}\n          style={{ cursor: \"pointer\" }}\n        >\n          {\" \"}\n          ↻\n        </div>\n        <br></br>\n        <div\n          className=\"content content-button\"\n          onClick={() => history.push(\"/\")}\n        >\n          Warp Back to Airport\n        </div>\n        {travelMode === \"Find Yourself\" ? (\n          <div\n            className=\"content content-button\"\n            onClick={() => setModalShowing(true)}\n          >\n            Make a guess!\n          </div>\n        ) : null}\n        <div\n          className=\"content content-button\"\n          onClick={() => setChatShowing(true)}\n        >\n          Chat with a local\n        </div>\n        {chatShowing ? (\n          <Chat\n            setChatShowing={setChatShowing}\n            address={address}\n            messages={messages}\n            setMessages={setMessages}\n          />\n        ) : null}\n      </div>\n      <div className=\"background\">\n        {triggerA || triggerB ? <Map imgKey={imgKey} /> : null}\n      </div>\n\n      {travelMode === \"Find Yourself\" ? (\n        <GuessForm\n          address={address}\n          modalShowing={modalShowing}\n          setModalShowing={setModalShowing}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default Travelling;\n"]},"metadata":{},"sourceType":"module"}