{"ast":null,"code":"var _jsxFileName = \"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Map.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport React from \"react\"; // import * as Mapillary from \"mapillary-js\";\n\nimport { MapillaryViewer } from \"react-mapillary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst europe = [\"Albania\", \"Andorra\", \"Armenia\", \"Austria\", \"Azerbaijan\", \"Belarus\", \"Belgium\", \"Bosnia and Herzegovina\", \"Bosnia\", \"Herzegovina\", \"Bosnia-Herzegovina\", \"Bulgaria\", \"Croatia\", \"Cyprus\", \"Czechia\", \"Denmark\", \"Estonia\", \"Finland\", \"France\", \"Georgia\", \"Germany\", \"Greece\", \"Hungary\", \"Iceland\", \"Ireland\", \"Italy\", \"Kazakhstan\", \"Kosovo\", \"Latvia\", \"Liechtenstein\", \"Lithuania\", \"Luxembourg\", \"Malta\", \"Moldova\", \"Monaco\", \"Montenegro\", \"Netherlands\", \"North Macedonia\", \"Macedonia\", \"Norway\", \"Poland\", \"Portugal\", \"Romania\", \"Russia\", \"San Marino\", \"Serbia\", \"Slovakia\", \"Slovenia\", \"Spain\", \"Sweden\", \"Switzerland\", \"Turkey\", \"Ukraine\", \"United Kingdom\", \"UK\", \"Vatican City\"];\nconst asia = [\"Afghanistan\", \"Armenia\", \"Azerbaijan\", \"Bahrain\", \"Bangladesh\", \"Bhutan\", \"Brunei\", \"Cambodia\", \"China\", \"Cyprus\", \"Georgia\", \"India\", \"Indonesia\", \"Iran\", \"Iraq\", \"Israel\", \"Japan\", \"Jordan\", \"Kazakhstan\", \"Kuwait\", \"Kyrgyzstan\", \"Laos\", \"Lebanon\", \"Malaysia\", \"Maldives\", \"Mongolia\", \"Myanmar\", \"Burma\", \"Nepal\", \"North Korea\", \"Oman\", \"Pakistan\", \"Palestine\", \"Philippines\", \"Qatar\", \"Russia\", \"Saudi Arabia\", \"Singapore\", \"South Korea\", \"Sri Lanka\", \"Syria\", \"Taiwan\", \"Tajikistan\", \"Thailand\", \"Timor-Leste\", \"Turkey\", \"Turkmenistan\", \"United Arab Emirates\", \"UAE\", \"Uzbekistan\", \"Vietnam\", \"Yemen\"];\nconst africa = [\"Algeria\", \"Angola\", \"Benin\", \"Botswana\", \"Burkina Faso\", \"Burundi\", \"Cabo Verde\", \"Cameroon\", \"Central African Republic\", \"CAR\", \"Chad\", \"Comoros\", \"Congo, Democratic Republic of the\", \"Democratic Republic of the Congo\", \"Congo, Republic of the\", \"Republic of the Congo\", \"Cote d'Ivoire\", \"Djibouti\", \"Egypt\", \"Equatorial Guinea\", \"Eritrea\", \"Eswatini\", \"Swaziland\", \"Ethiopia\", \"Gabon\", \"Gambia\", \"Ghana\", \"Guinea\", \"Guinea-Bissau\", \"Kenya\", \"Lesotho\", \"Liberia\", \"Libya\", \"Madagascar\", \"Malawi\", \"Mali\", \"Mauritania\", \"Mauritius\", \"Morocco\", \"Mozambique\", \"Namibia\", \"Niger\", \"Nigeria\", \"Rwanda\", \"Sao Tome and Principe\", \"Sao Tome\", \"Principe\", \"Saint Thomas and Prince\", \"Senegal\", \"Seychelles\", \"Sierra Leone\", \"Somalia\", \"South Africa\", \"South Sudan\", \"Sudan\", \"Tanzania\", \"Togo\", \"Tunisia\", \"Uganda\", \"Zambia\", \"Zimbabwe\"];\nconst northAmerica = [\"Antigua and Barbuda\", \"Bahamas\", \"Barbados\", \"Belize\", \"Canada\", \"Costa Rica\", \"Cuba\", \"Dominica\", \"Dominican Republic\", \"El Salvador\", \"Grenada\", \"Guatemala\", \"Haiti\", \"Honduras\", \"Jamaica\", \"Mexico\", \"Nicaragua\", \"Panama\", \"Saint Kitts and Nevis\", \"Saint Lucia\", \"Saint Vincent and the Grenadines\", \"Trinidad and Tobago\", \"United States of America (USA)\", \"Anguilla (UK)\", \"Aruba (Netherlands)\", \"Bermuda (UK)\", \"Bonaire (Netherlands)\", \"British Virgin Islands (UK)\", \"Cayman Islands (UK)\", \"Clipperton Island (France)\", \"Curacao (Netherlands)\", \"Greenland (Denmark)\", \"Guadeloupe (France)\", \"Martinique (France)\", \"Montserrat (UK)\", \"Navassa Island (USA)\", \"Puerto Rico (USA)\", \"Saba (Netherlands)\", \"Saint Barthelemy (France)\", \"Saint Martin (France)\", \"Saint Pierre and Miquelon (France)\", \"Sint Eustatius (Netherlands)\", \"Sint Maarten (Netherlands)\", \"Turks and Caicos Islands (UK)\", \"US Virgin Islands (USA)\"];\nconst southAmerica = [\"Argentina\", \"Bolivia\", \"Brazil\", \"Chile\", \"Colombia\", \"Ecuador\", \"Guyana\", \"Paraguay\", \"Peru\", \"Suriname\", \"Uruguay\", \"Venezuela\", \"Falkland Islands (UK)\", \"French Guiana (France)\", \"South Georgia and the South Sandwich Islands (UK)\"];\nconst oceania = [\"Australia\", \"Fiji\", \"Kiribati\", \"Marshall Islands\", \"Micronesia\", \"Nauru\", \"New Zealand\", \"Palau\", \"Papua New Guinea\", \"Samoa\", \"Solomon Islands\", \"Tonga\", \"Tuvalu\", \"Vanuatu\", \"American Samoa (USA)\", \"Cook Islands (New Zealand)\", \"French Polynesia (France)\", \"Guam (USA)\", \"New Caledonia (France)\", \"Niue (New Zealand)\", \"Norfolk Island (Australia)\", \"Northern Mariana Islands (USA)\", \"Pitcairn Islands (UK)\", \"Tokelau (New Zealand)\", \"Wake Island (USA)\", \"Wallis and Futuna (France)\"];\n\nfunction Map({\n  api\n}) {\n  _s();\n\n  const [imgKey, setImgKey] = useState(\"085Gpl_xNxW1Lw2eeEG28w\");\n  const [latlong, setLatlong] = useState({\n    lat: 0,\n    long: 0\n  });\n  const [address, setAddress] = useState({\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    continent: \"\"\n  });\n  console.log(address);\n  useEffect(() => {\n    fetch(`${api}/city_info`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\"\n      },\n      body: JSON.stringify(latlong)\n    }).then(r => r.json()).then(handleLocationData);\n  }, [latlong]);\n\n  function handleLocationData(data) {\n    console.log(data);\n\n    if (typeof data === \"object\") {\n      console.log(data, typeof data);\n      data.forEach(d => {\n        if (d.types.includes(\"country\")) {\n          const countryName = d.long_name;\n          setAddress(address => ({ ...address,\n            country: countryName\n          }));\n\n          if (europe.includes(countryName)) {\n            setAddress(address => ({ ...address,\n              continent: \"Europe\"\n            }));\n          } else if (asia.includes(countryName)) {\n            setAddress(address => ({ ...address,\n              continent: \"Asia\"\n            }));\n          } else if (africa.includes(countryName)) {\n            setAddress(address => ({ ...address,\n              continent: \"Africa\"\n            }));\n          } else if (northAmerica.includes(countryName)) {\n            setAddress(address => ({ ...address,\n              continent: \"North America\"\n            }));\n          } else if (southAmerica.includes(countryName)) {\n            setAddress(address => ({ ...address,\n              continent: \"South America\"\n            }));\n          } else if (oceania.includes(countryName)) {\n            setAddress(address => ({ ...address,\n              continent: \"Oceania/Australia\"\n            }));\n          }\n        } else if (d.types.includes(\"locality\")) {\n          const stateName = d.long_name;\n          setAddress(address => ({ ...address,\n            state: stateName\n          }));\n        } else if (d.types.includes(\"sublocality\")) {\n          const cityName = d.long_name;\n          setAddress(address => ({ ...address,\n            city: cityName\n          }));\n        }\n      });\n    }\n  } // const [clientID, setClientID] = useState(\"\");\n  // useEffect(() => {\n  //   fetch(`${api}/clientID`)\n  //     .then((r) => {\n  //       console.log(\"response before json()\", r);\n  //       r.json();\n  //     })\n  //     .then((r) => {\n  //       console.log(\"client id call response\", r);\n  //       setClientID(r);\n  //     });\n  // }, []);\n  //   useEffect(() => {\n  //     fetch(\n  //       \"https://a.mapillary.com/v3/images?client_id=MHZvSFJXZjRWR0p0YWZpODRTMDhDbjoxOTUzYjNlMjVlMWM0NTcw\"\n  //     )\n  //       .then((r) => r.json())\n  //       .then((j) => setImgKey(j.features[10].properties.key));\n  //   }, []);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map-container\" //   role=\"button\"\n    //   tabIndex=\"-1\"\n    ,\n    style: {\n      width: \"100vw\",\n      height: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(MapillaryViewer, {\n      clientId: \"MHZvSFJXZjRWR0p0YWZpODRTMDhDbjoxOTUzYjNlMjVlMWM0NTcw\",\n      imageKey: imgKey,\n      filter: [\"==\", \"userKey\", \"2PiRXqdqbY47WzG6CRzEIA\"],\n      onTiltChanged: tilt => console.log(`Tilt: ${tilt}`),\n      onFovChanged: fov => console.log(`FoV: ${fov}`),\n      onNodeChanged: node => {\n        console.log(\"Lat:\", node.latLon.lat, \"Long:\", node.latLon.lon);\n        setLatlong({\n          lat: node.latLon.lat,\n          long: node.latLon.lon\n        });\n      },\n      onBearingChanged: bearing => console.log(`Bearing: ${bearing}`)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Map, \"sKEcG7aS9W2qw9SX4MYsiXFWtGs=\");\n\n_c = Map;\nexport default Map;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"sources":["/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Map.js"],"names":["useEffect","useState","React","MapillaryViewer","europe","asia","africa","northAmerica","southAmerica","oceania","Map","api","imgKey","setImgKey","latlong","setLatlong","lat","long","address","setAddress","city","state","country","continent","console","log","fetch","method","headers","accept","body","JSON","stringify","then","r","json","handleLocationData","data","forEach","d","types","includes","countryName","long_name","stateName","cityName","width","height","tilt","fov","node","latLon","lon","bearing"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport React from \"react\";\n// import * as Mapillary from \"mapillary-js\";\nimport { MapillaryViewer } from \"react-mapillary\";\nconst europe = [\n  \"Albania\",\n  \"Andorra\",\n  \"Armenia\",\n  \"Austria\",\n  \"Azerbaijan\",\n  \"Belarus\",\n  \"Belgium\",\n  \"Bosnia and Herzegovina\",\n  \"Bosnia\",\n  \"Herzegovina\",\n  \"Bosnia-Herzegovina\",\n  \"Bulgaria\",\n  \"Croatia\",\n  \"Cyprus\",\n  \"Czechia\",\n  \"Denmark\",\n  \"Estonia\",\n  \"Finland\",\n  \"France\",\n  \"Georgia\",\n  \"Germany\",\n  \"Greece\",\n  \"Hungary\",\n  \"Iceland\",\n  \"Ireland\",\n  \"Italy\",\n  \"Kazakhstan\",\n  \"Kosovo\",\n  \"Latvia\",\n  \"Liechtenstein\",\n  \"Lithuania\",\n  \"Luxembourg\",\n  \"Malta\",\n  \"Moldova\",\n  \"Monaco\",\n  \"Montenegro\",\n  \"Netherlands\",\n  \"North Macedonia\",\n  \"Macedonia\",\n  \"Norway\",\n  \"Poland\",\n  \"Portugal\",\n  \"Romania\",\n  \"Russia\",\n  \"San Marino\",\n  \"Serbia\",\n  \"Slovakia\",\n  \"Slovenia\",\n  \"Spain\",\n  \"Sweden\",\n  \"Switzerland\",\n  \"Turkey\",\n  \"Ukraine\",\n  \"United Kingdom\",\n  \"UK\",\n  \"Vatican City\",\n];\nconst asia = [\n  \"Afghanistan\",\n  \"Armenia\",\n  \"Azerbaijan\",\n  \"Bahrain\",\n  \"Bangladesh\",\n  \"Bhutan\",\n  \"Brunei\",\n  \"Cambodia\",\n  \"China\",\n  \"Cyprus\",\n  \"Georgia\",\n  \"India\",\n  \"Indonesia\",\n  \"Iran\",\n  \"Iraq\",\n  \"Israel\",\n  \"Japan\",\n  \"Jordan\",\n  \"Kazakhstan\",\n  \"Kuwait\",\n  \"Kyrgyzstan\",\n  \"Laos\",\n  \"Lebanon\",\n  \"Malaysia\",\n  \"Maldives\",\n  \"Mongolia\",\n  \"Myanmar\",\n  \"Burma\",\n  \"Nepal\",\n  \"North Korea\",\n  \"Oman\",\n  \"Pakistan\",\n  \"Palestine\",\n  \"Philippines\",\n  \"Qatar\",\n  \"Russia\",\n  \"Saudi Arabia\",\n  \"Singapore\",\n  \"South Korea\",\n  \"Sri Lanka\",\n  \"Syria\",\n  \"Taiwan\",\n  \"Tajikistan\",\n  \"Thailand\",\n  \"Timor-Leste\",\n  \"Turkey\",\n  \"Turkmenistan\",\n  \"United Arab Emirates\",\n  \"UAE\",\n  \"Uzbekistan\",\n  \"Vietnam\",\n  \"Yemen\",\n];\nconst africa = [\n  \"Algeria\",\n  \"Angola\",\n  \"Benin\",\n  \"Botswana\",\n  \"Burkina Faso\",\n  \"Burundi\",\n  \"Cabo Verde\",\n  \"Cameroon\",\n  \"Central African Republic\",\n  \"CAR\",\n  \"Chad\",\n  \"Comoros\",\n  \"Congo, Democratic Republic of the\",\n  \"Democratic Republic of the Congo\",\n  \"Congo, Republic of the\",\n  \"Republic of the Congo\",\n  \"Cote d'Ivoire\",\n  \"Djibouti\",\n  \"Egypt\",\n  \"Equatorial Guinea\",\n  \"Eritrea\",\n  \"Eswatini\",\n  \"Swaziland\",\n  \"Ethiopia\",\n  \"Gabon\",\n  \"Gambia\",\n  \"Ghana\",\n  \"Guinea\",\n  \"Guinea-Bissau\",\n  \"Kenya\",\n  \"Lesotho\",\n  \"Liberia\",\n  \"Libya\",\n  \"Madagascar\",\n  \"Malawi\",\n  \"Mali\",\n  \"Mauritania\",\n  \"Mauritius\",\n  \"Morocco\",\n  \"Mozambique\",\n  \"Namibia\",\n  \"Niger\",\n  \"Nigeria\",\n  \"Rwanda\",\n  \"Sao Tome and Principe\",\n  \"Sao Tome\",\n  \"Principe\",\n  \"Saint Thomas and Prince\",\n  \"Senegal\",\n  \"Seychelles\",\n  \"Sierra Leone\",\n  \"Somalia\",\n  \"South Africa\",\n  \"South Sudan\",\n  \"Sudan\",\n  \"Tanzania\",\n  \"Togo\",\n  \"Tunisia\",\n  \"Uganda\",\n  \"Zambia\",\n  \"Zimbabwe\",\n];\nconst northAmerica = [\n  \"Antigua and Barbuda\",\n  \"Bahamas\",\n  \"Barbados\",\n  \"Belize\",\n  \"Canada\",\n  \"Costa Rica\",\n  \"Cuba\",\n  \"Dominica\",\n  \"Dominican Republic\",\n  \"El Salvador\",\n  \"Grenada\",\n  \"Guatemala\",\n  \"Haiti\",\n  \"Honduras\",\n  \"Jamaica\",\n  \"Mexico\",\n  \"Nicaragua\",\n  \"Panama\",\n  \"Saint Kitts and Nevis\",\n  \"Saint Lucia\",\n  \"Saint Vincent and the Grenadines\",\n  \"Trinidad and Tobago\",\n  \"United States of America (USA)\",\n  \"Anguilla (UK)\",\n  \"Aruba (Netherlands)\",\n  \"Bermuda (UK)\",\n  \"Bonaire (Netherlands)\",\n  \"British Virgin Islands (UK)\",\n  \"Cayman Islands (UK)\",\n  \"Clipperton Island (France)\",\n  \"Curacao (Netherlands)\",\n  \"Greenland (Denmark)\",\n  \"Guadeloupe (France)\",\n  \"Martinique (France)\",\n  \"Montserrat (UK)\",\n  \"Navassa Island (USA)\",\n  \"Puerto Rico (USA)\",\n  \"Saba (Netherlands)\",\n  \"Saint Barthelemy (France)\",\n  \"Saint Martin (France)\",\n  \"Saint Pierre and Miquelon (France)\",\n  \"Sint Eustatius (Netherlands)\",\n  \"Sint Maarten (Netherlands)\",\n  \"Turks and Caicos Islands (UK)\",\n  \"US Virgin Islands (USA)\",\n];\nconst southAmerica = [\n  \"Argentina\",\n  \"Bolivia\",\n  \"Brazil\",\n  \"Chile\",\n  \"Colombia\",\n  \"Ecuador\",\n  \"Guyana\",\n  \"Paraguay\",\n  \"Peru\",\n  \"Suriname\",\n  \"Uruguay\",\n  \"Venezuela\",\n  \"Falkland Islands (UK)\",\n  \"French Guiana (France)\",\n  \"South Georgia and the South Sandwich Islands (UK)\",\n];\nconst oceania = [\n  \"Australia\",\n  \"Fiji\",\n  \"Kiribati\",\n  \"Marshall Islands\",\n  \"Micronesia\",\n  \"Nauru\",\n  \"New Zealand\",\n  \"Palau\",\n  \"Papua New Guinea\",\n  \"Samoa\",\n  \"Solomon Islands\",\n  \"Tonga\",\n  \"Tuvalu\",\n  \"Vanuatu\",\n  \"American Samoa (USA)\",\n  \"Cook Islands (New Zealand)\",\n  \"French Polynesia (France)\",\n  \"Guam (USA)\",\n  \"New Caledonia (France)\",\n  \"Niue (New Zealand)\",\n  \"Norfolk Island (Australia)\",\n  \"Northern Mariana Islands (USA)\",\n  \"Pitcairn Islands (UK)\",\n  \"Tokelau (New Zealand)\",\n  \"Wake Island (USA)\",\n  \"Wallis and Futuna (France)\",\n];\n\nfunction Map({ api }) {\n  const [imgKey, setImgKey] = useState(\"085Gpl_xNxW1Lw2eeEG28w\");\n  const [latlong, setLatlong] = useState({ lat: 0, long: 0 });\n\n  const [address, setAddress] = useState({\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    continent: \"\",\n  });\n  console.log(address);\n  useEffect(() => {\n    fetch(`${api}/city_info`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\",\n      },\n      body: JSON.stringify(latlong),\n    })\n      .then((r) => r.json())\n      .then(handleLocationData);\n  }, [latlong]);\n\n  function handleLocationData(data) {\n    console.log(data);\n    if (typeof data === \"object\") {\n      console.log(data, typeof data);\n      data.forEach((d) => {\n        if (d.types.includes(\"country\")) {\n          const countryName = d.long_name;\n          setAddress((address) => ({ ...address, country: countryName }));\n          if (europe.includes(countryName)) {\n            setAddress((address) => ({ ...address, continent: \"Europe\" }));\n          } else if (asia.includes(countryName)) {\n            setAddress((address) => ({ ...address, continent: \"Asia\" }));\n          } else if (africa.includes(countryName)) {\n            setAddress((address) => ({ ...address, continent: \"Africa\" }));\n          } else if (northAmerica.includes(countryName)) {\n            setAddress((address) => ({\n              ...address,\n              continent: \"North America\",\n            }));\n          } else if (southAmerica.includes(countryName)) {\n            setAddress((address) => ({\n              ...address,\n              continent: \"South America\",\n            }));\n          } else if (oceania.includes(countryName)) {\n            setAddress((address) => ({\n              ...address,\n              continent: \"Oceania/Australia\",\n            }));\n          }\n        } else if (d.types.includes(\"locality\")) {\n          const stateName = d.long_name;\n          setAddress((address) => ({ ...address, state: stateName }));\n        } else if (d.types.includes(\"sublocality\")) {\n          const cityName = d.long_name;\n          setAddress((address) => ({ ...address, city: cityName }));\n        }\n      });\n    }\n  }\n\n  // const [clientID, setClientID] = useState(\"\");\n  // useEffect(() => {\n  //   fetch(`${api}/clientID`)\n  //     .then((r) => {\n  //       console.log(\"response before json()\", r);\n  //       r.json();\n  //     })\n  //     .then((r) => {\n  //       console.log(\"client id call response\", r);\n  //       setClientID(r);\n  //     });\n  // }, []);\n\n  //   useEffect(() => {\n  //     fetch(\n  //       \"https://a.mapillary.com/v3/images?client_id=MHZvSFJXZjRWR0p0YWZpODRTMDhDbjoxOTUzYjNlMjVlMWM0NTcw\"\n  //     )\n  //       .then((r) => r.json())\n  //       .then((j) => setImgKey(j.features[10].properties.key));\n  //   }, []);\n\n  return (\n    <div\n      id=\"map-container\"\n      //   role=\"button\"\n      //   tabIndex=\"-1\"\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n      }}\n    >\n      {/* <h2>\n        Coords: {latlong.lat}ºN, {latlong.long}ºE\n      </h2> */}\n      <MapillaryViewer\n        clientId=\"MHZvSFJXZjRWR0p0YWZpODRTMDhDbjoxOTUzYjNlMjVlMWM0NTcw\"\n        imageKey={imgKey}\n        filter={[\"==\", \"userKey\", \"2PiRXqdqbY47WzG6CRzEIA\"]}\n        onTiltChanged={(tilt) => console.log(`Tilt: ${tilt}`)}\n        onFovChanged={(fov) => console.log(`FoV: ${fov}`)}\n        onNodeChanged={(node) => {\n          console.log(\"Lat:\", node.latLon.lat, \"Long:\", node.latLon.lon);\n          setLatlong({ lat: node.latLon.lat, long: node.latLon.lon });\n        }}\n        onBearingChanged={(bearing) => console.log(`Bearing: ${bearing}`)}\n      />\n    </div>\n  );\n}\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}