[{"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/index.js":"1","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/App.js":"2","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Airport.js":"3","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Login.js":"4","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Profile.js":"5","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Signup.js":"6","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Travelling.js":"7","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Passport.js":"8","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Chat.js":"9","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Trip.js":"10","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/GuessForm.js":"11","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Map.js":"12","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Info.js":"13"},{"size":358,"mtime":1617805262066,"results":"14","hashOfConfig":"15"},{"size":2317,"mtime":1618859719645,"results":"16","hashOfConfig":"15"},{"size":2244,"mtime":1618603826810,"results":"17","hashOfConfig":"15"},{"size":4663,"mtime":1618934141177,"results":"18","hashOfConfig":"15"},{"size":4920,"mtime":1618948002258,"results":"19","hashOfConfig":"15"},{"size":2536,"mtime":1618927248810,"results":"20","hashOfConfig":"15"},{"size":3257,"mtime":1618932121207,"results":"21","hashOfConfig":"15"},{"size":1071,"mtime":1618931242723,"results":"22","hashOfConfig":"15"},{"size":14576,"mtime":1618946635655,"results":"23","hashOfConfig":"15"},{"size":1312,"mtime":1618928955410,"results":"24","hashOfConfig":"15"},{"size":10574,"mtime":1618938196032,"results":"25","hashOfConfig":"15"},{"size":1014,"mtime":1618843331476,"results":"26","hashOfConfig":"15"},{"size":3613,"mtime":1618927890906,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"152fu9t",{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"30"},"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/index.js",[],["61","62"],"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/App.js",["63","64"],"import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Airport from \"./Airport\";\nimport Passport from \"./Passport\";\nimport Profile from \"./Profile\";\nimport Travelling from \"./Travelling\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\nimport Info from \"./Info\";\n\nfunction App() {\n  const API = \"http://localhost:3000\";\n  const [user, setUser] = useState(null);\n  const [travelMode, setTravelMode] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(`${API}/me`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then((r) => r.json())\n        .then((user) => {\n          setUser(user);\n        });\n      // } else {\n      //   history.push(\"/login\");\n    }\n  }, []);\n\n  return (\n    <>\n      {user ? (\n        <Switch>\n          <Route exact path=\"/passport\">\n            <Passport user={user} api={API} />\n          </Route>\n          <Route exact path=\"/profile\">\n            <Profile user={user} api={API} setUser={setUser} />\n          </Route>\n          <Route exact path=\"/travelling\">\n            <Travelling travelMode={\"Find Yourself\"} api={API} user={user} />\n          </Route>\n          <Route exact path=\"/info\">\n            <Info />\n          </Route>\n          <Route exact path=\"/\">\n            <Airport\n              setTravelMode={setTravelMode}\n              setUser={setUser}\n              user={user}\n            />\n          </Route>\n          <Route exact path=\"/*\">\n            <Redirect\n              to={{\n                pathname: \"/\",\n              }}\n            />\n          </Route>\n        </Switch>\n      ) : (\n        <Switch>\n          <Route exact path=\"/login\">\n            <Login api={API} setUser={setUser} />\n          </Route>\n\n          <Route path=\"/signup\">\n            <Signup api={API} setUser={setUser} />\n          </Route>\n\n          <Route exact path=\"/info\">\n            <Info />\n          </Route>\n\n          <Route exact path=\"/*\">\n            <Redirect\n              to={{\n                pathname: \"/login\",\n              }}\n            />\n          </Route>\n        </Switch>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Airport.js",[],"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Login.js",["65","66"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport security from \"./security.jpeg\";\nimport Draggable from \"react-draggable\";\n\nfunction Login({ api, setUser }) {\n  const [disabled, setDisabled] = useState(false);\n  const [shoePosition, setShoePosition] = useState({ x: 75, y: -2 });\n  const [sockPosition, setSockPosition] = useState({ x: 75, y: -2 });\n  const [binPosition, setBinPosition] = useState({ x: 275, y: -2 });\n  const [errors, setErrors] = useState([]);\n  const [userInfo, setUserInfo] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const history = useHistory();\n\n  useEffect(() => {\n    console.log(\"bin\", binPosition);\n    console.log(\"shoe\", shoePosition);\n    console.log(\"sock\", sockPosition);\n  }, [binPosition, shoePosition, sockPosition]);\n\n  function positionNearEnough(pos1, pos2) {\n    return Math.abs(pos1.x - pos2.x) < 10 && Math.abs(pos1.y - pos2.y) < 10;\n  }\n\n  function handleChange(e) {\n    let key = e.target.name;\n    let val = e.target.value;\n\n    setUserInfo({ ...userInfo, [key]: val });\n  }\n\n  function checkDisabled() {\n    return !positionNearEnough(shoePosition, binPosition);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!checkDisabled()) {\n      fetch(`${api}/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n        body: JSON.stringify(userInfo),\n      })\n        .then((r) => {\n          return r.json().then((data) => {\n            if (r.ok) {\n              return data;\n            } else {\n              throw data;\n            }\n          });\n        })\n        .then((response) => {\n          const { user, token } = response;\n          localStorage.setItem(\"token\", token);\n          setUser(user);\n          history.push(\"/home\");\n        })\n        .catch((response) => {\n          setUserInfo({ ...userInfo, password: \"\" });\n          setErrors(response.errors);\n        });\n    }\n  }\n\n  return (\n    <div\n      className=\"checkin\"\n      style={{\n        background: `url(${security})`,\n        height: \"100vh\",\n        width: \"100%\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n      }}\n    >\n      <div id=\"welcome-holder\">\n        <span id=\"welcome-frame\">\n          <form onSubmit={handleSubmit}>\n            <input\n              type=\"text\"\n              name=\"username\"\n              className=\"field\"\n              placeholder=\"Enter Username\"\n              value={userInfo.username}\n              onChange={handleChange}\n            ></input>\n            <br />\n            <input\n              type=\"password\"\n              name=\"password\"\n              className=\"field\"\n              placeholder=\"Enter Password\"\n              value={userInfo.password}\n              onChange={handleChange}\n            ></input>\n            <br />\n            <div>Please remove your shoes and place them in the bin</div>\n            {positionNearEnough(sockPosition, shoePosition) ? null : (\n              <Draggable\n                defaultPosition={sockPosition}\n                onDrag={(e, data) => setSockPosition({ x: data.x, y: data.y })}\n              >\n                <div className=\"box\">\n                  <div style={{ fontSize: \"30px\" }}>{\"🧦\"}</div>\n                </div>\n              </Draggable>\n            )}\n            <Draggable\n              defaultPosition={shoePosition}\n              onDrag={(e, data) => setShoePosition({ x: data.x, y: data.y })}\n            >\n              <div className=\"box\">\n                <div style={{ fontSize: \"30px\" }}>{\"👞\"}</div>\n              </div>\n            </Draggable>\n            <Draggable\n              defaultPosition={binPosition}\n              onDrag={(e, data) => setBinPosition({ x: data.x, y: data.y })}\n            >\n              <div className=\"box\">\n                <div style={{ fontSize: \"30px\" }}>{\"🗑️\"}</div>\n              </div>\n            </Draggable>\n            <br />\n            <br />\n            <br />\n            <button\n              type=\"submit\"\n              className={checkDisabled() ? \"field disabled\" : \"field\"}\n            >\n              Check In\n            </button>\n          </form>\n          {errors.length !== 0 ? (\n            <>\n              {errors.map((er, i) => (\n                <div key={i}>{er}</div>\n              ))}\n            </>\n          ) : null}\n          <Link id=\"signup-button\" className=\"button field\" to=\"/signup\">\n            First time flying? Signup for a passport!\n          </Link>\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Profile.js",[],"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Signup.js",[],"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Travelling.js",["67"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Chat from \"./Chat\";\nimport GuessForm from \"./GuessForm\";\nimport Map from \"./Map\";\n\nfunction Travelling({ travelMode, api, user }) {\n  const [modalShowing, setModalShowing] = useState(false);\n  const [chatShowing, setChatShowing] = useState(false);\n  const [englishOnly, setEnglishOnly] = useState(false);\n  const [imgKey, setImgKey] = useState(\"KGHbNmfZQ8z9BcWb1a_3lg\"); //defaults to Macao, arbitrarily in case any problem with fetch\n  const [address, setAddress] = useState({\n    name: \"Macao\",\n    state: \"Macao\",\n    country: \"People's Republic of China\",\n    continent: \"Asia\",\n    image_key: \"KGHbNmfZQ8z9BcWb1a_3lg\",\n    flag_url:\n      \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Flag_of_Macau.svg/1200px-Flag_of_Macau.svg.png\",\n    flag_emoji: \"🇲🇴\",\n    food: \"Oh, I love a good Portguese Egg Tart! 吃飯囉！\",\n    language:\n      \"Though some people here speak Portuguese, my family and I speak in Chinese!\",\n    religion:\n      \"Many people here are Buddhists, and there are a few Catholics, but I don't practice any religion.\",\n  });\n\n  useEffect(() => {\n    fetch(`${api}/city_info/${user.id}`)\n      .then((r) => r.json())\n      .then((city) => {\n        setAddress(city);\n        setImgKey(city.image_key);\n      });\n  }, []);\n\n  const [messages, setMessages] = useState([]);\n  const history = useHistory();\n\n  return (\n    <div id=\"wrapper\">\n      <div>\n        <div className=\"content\">\n          <div id=\"travelling-header\">\n            Travelling can be a great way to <em>find yourself</em>!\n            <br />\n            Can you guess your location?\n          </div>\n        </div>\n        {/* <h3 className=\"content\">{travelMode}!</h3>\n        <div className=\"content\">\n          {travelMode === \"Tourism\"\n            ? \"Roam around freely!\"\n            : travelMode === \"Find Yourself\"\n            ? \"Guess your location!\"\n            : \"Find your way to a GIVEN-PLACE\"}\n        </div> */}\n        <br></br>\n        <div\n          className=\"content content-button\"\n          onClick={() => history.push(\"/\")}\n        >\n          Warp Back to the Airport\n        </div>\n        {travelMode === \"Find Yourself\" ? (\n          <div\n            className=\"content content-button\"\n            onClick={() => setModalShowing(true)}\n          >\n            Make a Guess!\n          </div>\n        ) : null}\n        <div\n          className=\"content content-button\"\n          onClick={() => setChatShowing(true)}\n        >\n          Chat with a Local\n        </div>\n        {chatShowing ? (\n          <Chat\n            setChatShowing={setChatShowing}\n            address={address}\n            messages={messages}\n            setMessages={setMessages}\n            englishOnly={englishOnly}\n            setEnglishOnly={setEnglishOnly}\n          />\n        ) : null}\n      </div>\n      <div className=\"background\">\n        <Map imgKey={imgKey} api={api} />\n      </div>\n\n      {travelMode === \"Find Yourself\" ? (\n        <GuessForm\n          address={address}\n          modalShowing={modalShowing}\n          setModalShowing={setModalShowing}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default Travelling;\n","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Passport.js",["68"],"import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Trip from \"./Trip\";\nimport world from \"./world.png\";\n\nfunction Passport({ user, api }) {\n  const history = useHistory();\n  const [trips, setTrips] = useState([]);\n\n  useEffect(() => {\n    fetch(`${api}/usertrips/${user.id}`)\n      .then((r) => r.json())\n      .then((tList) => setTrips(tList));\n  }, []);\n\n  return (\n    <div\n      style={{\n        background: `url(${world})`,\n        height: \"100vh\",\n        width: \"100%\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        alignItems: \"center\",\n      }}\n    >\n      <div className=\"header\">Here is your passport!</div>\n      <br />\n      {trips.map((trip, i) => {\n        return <Trip key={i} trip={trip} api={api} setTrips={setTrips} />;\n      })}\n      <br></br>\n      <div\n        className=\"content content-button\"\n        key={trips.length + 1}\n        onClick={() => history.push(\"/\")}\n      >\n        Back to Terminal\n      </div>\n    </div>\n  );\n}\n\nexport default Passport;\n","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Chat.js",["69","70"],"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Trip.js",[],"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/GuessForm.js",[],"/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Map.js",["71"],"import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport { MapillaryViewer } from \"react-mapillary\";\n\nfunction Map({ imgKey }) {\n  const [latlong, setLatlong] = useState({ lat: 0, long: 0 });\n  console.log(latlong);\n\n  return (\n    <div\n      id=\"map-container\"\n      // role=\"button\"\n      // tabIndex=\"-1\"\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n      }}\n    >\n      <MapillaryViewer\n        clientId=\"MHZvSFJXZjRWR0p0YWZpODRTMDhDbjoxOTUzYjNlMjVlMWM0NTcw\"\n        imageKey={imgKey}\n        // onTiltChanged={(tilt) => console.log(`Tilt: ${tilt}`)} //vertical angle\n        // onFovChanged={(fov) => console.log(`FoV: ${fov}`)}  //zoom\n        onNodeChanged={(node) => {\n          console.log(\"Lat:\", node.latLon.lat, \"Long:\", node.latLon.lon);\n          setLatlong({ lat: node.latLon.lat, long: node.latLon.lon });\n        }}\n        // onBearingChanged={(bearing) => console.log(`Bearing: ${bearing}`)} //horiz angle\n      />\n    </div>\n  );\n}\n\nexport default Map;\n","/Users/zd/Flatiron/Projects/Phase5/couchbound-traveler/frontend/src/Info.js",["72"],"import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport infopic from \"./info.jpeg\";\n// import { window } from \"react-window\";\n\nfunction Info() {\n  const history = useHistory();\n  return (\n    <div\n      style={{\n        background: `url(${infopic})`,\n        height: \"100vh\",\n        width: \"100%\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n      }}\n    >\n      <div className=\"content content-button\" onClick={() => history.push(\"/\")}>\n        Back\n      </div>\n      <br></br>\n      <div id=\"the-info\">\n        <h1>Couchbound Traveler</h1>\n        <h3>Travel the world from the comfort of your own home!</h3>\n        <p>\n          Welcome to Couchbound Traveler! After logging in, you'll be taken to\n          the Airport, where you have the option to view your passport, edit\n          your personal information, or go on a new trip around the world.{\" \"}\n        </p>\n        <p>\n          Your passport keeps track of all the trips to various cities that you\n          have made so far.\n        </p>\n        <p>\n          When you bravely choose to take flight to a new virtual destination,\n          you will be randomly taken to one of many cities around the world!\n          Your task is to find out where in the world you are (or just explore\n          around freely). To do so, you can navigate with the arrow buttons that\n          show up onscreen, or you can press the space-bar to play through a\n          sequence of images.\n        </p>\n        <small>\n          Warning! If you are motion-sensitive, be careful with using the\n          space-bar, as some image sequences may cause dizziness to some users.\n        </small>\n        <p>\n          If you want to ask questions about the city or country that you are\n          in, see if a local might be able to help you! Click on the \"Chat with\n          a Local\" button to start a conversation.\n        </p>\n        <p>\n          In many supported locations, the local may talk to you in their own\n          language. (Don't worry, all of our wonderful locals understand some\n          English.) If you wish to disable this feature, you can kindly request\n          that the local speak to you in English only, by clicking on the little\n          British flag inside of the chat box. To turn it back on again, just\n          click on the little globe.\n        </p>\n        <p>\n          If you feel you have a pretty good guess of where you are, click on\n          the button to \"Make a Guess\". You can fill in as many or as few of the\n          fields as you want to guess about, and then press \"Check\" to see which\n          pasrts of your guess are correct. If you are wrong, see if you can\n          find more clues or ask more questions to find out! If you want the\n          information about your location revealed to you, click on the \"Reveal\"\n          button in the guess box, and you'll see where in the world you are.\n        </p>\n        <p>\n          When you are ready to leave, simply \"Warp Back to the Airport\". Now\n          your passport will include the trip you just took, and you will be\n          ready to take another journey!\n        </p>\n        <p>\n          We live in an enormous world, with such a beautiful diversity of\n          people, languages, and cultures. Learning about others, learning about\n          ourselves, and learning about the world we all live in - these things\n          go hand-in-hand!\n        </p>\n        <p>Have a blast and learn a lot, World Traveler! Bon Voyage!</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Info;\n",{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":15,"column":10,"nodeType":"79","messageId":"80","endLine":15,"endColumn":20},{"ruleId":"77","severity":1,"message":"81","line":16,"column":9,"nodeType":"79","messageId":"80","endLine":16,"endColumn":16},{"ruleId":"77","severity":1,"message":"82","line":7,"column":10,"nodeType":"79","messageId":"80","endLine":7,"endColumn":18},{"ruleId":"77","severity":1,"message":"83","line":7,"column":20,"nodeType":"79","messageId":"80","endLine":7,"endColumn":31},{"ruleId":"84","severity":1,"message":"85","line":35,"column":6,"nodeType":"86","endLine":35,"endColumn":8,"suggestions":"87"},{"ruleId":"84","severity":1,"message":"85","line":14,"column":6,"nodeType":"86","endLine":14,"endColumn":8,"suggestions":"88"},{"ruleId":"77","severity":1,"message":"89","line":14,"column":10,"nodeType":"79","messageId":"80","endLine":14,"endColumn":25},{"ruleId":"77","severity":1,"message":"90","line":14,"column":27,"nodeType":"79","messageId":"80","endLine":14,"endColumn":45},{"ruleId":"77","severity":1,"message":"91","line":1,"column":10,"nodeType":"79","messageId":"80","endLine":1,"endColumn":19},{"ruleId":"77","severity":1,"message":"92","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":25},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"no-unused-vars","'travelMode' is assigned a value but never used.","Identifier","unusedVar","'history' is assigned a value but never used.","'disabled' is assigned a value but never used.","'setDisabled' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'api' and 'user.id'. Either include them or remove the dependency array.","ArrayExpression",["95"],["96"],"'showEnglishWord' is assigned a value but never used.","'setShowEnglishWord' is assigned a value but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},{"desc":"97","fix":"99"},"Update the dependencies array to be: [api, user.id]",{"range":"100","text":"101"},{"range":"102","text":"101"},[1355,1357],"[api, user.id]",[406,408]]